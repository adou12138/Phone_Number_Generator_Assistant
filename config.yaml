# ===========================================
# 手机号码生成查询系统 - 配置文件
# ===========================================
# 
# 配置说明：
# 本文件包含应用的所有可配置项。
# 修改配置后需要重启应用生效。
#
# 环境变量覆盖：
# - APP_PORT: 覆盖应用端口
# - LOGIN_ENABLED: 覆盖登录开关（true/false）
# - DEBUG_MODE: 覆盖调试模式（true/false）
# ===========================================

# -------------------------------------------
# 应用配置
# -------------------------------------------
app:
  # 绑定地址
  # 0.0.0.0 表示监听所有网络接口
  # 127.0.0.1 表示仅本地访问
  host: "0.0.0.0"
  
  # 监听端口
  # Flask默认端口为5000
  port: 5000
  
  # 调试模式
  # 生产环境必须设为 false
  # 调试模式下会显示详细错误信息
  debug: false
  
  # Flask密钥
  # 用于会话加密，生产环境请修改为复杂的随机字符串
  # 可以使用命令生成：python -c "import secrets; print(secrets.token_hex(32))"
  secret_key: "phone-generator-secret-key-change-in-production"

# -------------------------------------------
# 登录配置
# -------------------------------------------
login:
  # 是否启用登录功能
  # true: 启用登录，所有访问都需要登录
  # false: 禁用登录，直接访问主页面
  enabled: false
  
  # 用户列表
  # 支持配置多个用户，每个用户包含用户名和密码
  # 密码为明文存储，如需更高安全性可考虑加密存储
  users:
    - username: "chenwei"
      password: "qwer1234"
    - username: "qsl"
      password: "qwer1234"
    # 添加更多用户时，复制以下格式：
    # - username: "新用户名"
    #   password: "新密码"

# -------------------------------------------
# 生成器配置
# -------------------------------------------
generator:
  # 单次最大生成数量
  # 超过此数量时会提示用户缩小查询范围
  # 单位：条
  max_count: 10000000
  
  # 每批次生成数量
  # 多进程生成时，每个进程每生成指定数量后写入缓冲区
  # 建议值：500-1000
  batch_size: 500
  
  # 分批下载阈值
  # 生成的文件大小超过此值时自动分批
  # 单位：MB
  file_size_limit: 20

# -------------------------------------------
# 数据库配置
# -------------------------------------------
database:
  # 数据库文件路径
  # 相对于项目根目录的路径
  path: "data/phone_location.db"
  
  # CSV文件路径
  # 用于初始化数据库的数据源文件
  csv_path: "data/phone_location.csv"

# -------------------------------------------
# 文件配置
# -------------------------------------------
download:
  # 下载目录
  # 用于存放生成的文件和临时文件
  # 相对于项目根目录的路径
  dir: "downloads"
  
  # 文件过期时间
  # 下载完成后，文件在此时间后自动清理
  # 单位：小时
  expire_hours: 24

# -------------------------------------------
# 日志配置
# -------------------------------------------
logging:
  # 日志级别
  # 可选值：DEBUG, INFO, WARNING, ERROR, CRITICAL
  # DEBUG: 最详细，包含所有调试信息
  # INFO: 普通信息
  # WARNING: 警告信息
  # ERROR: 错误信息
  # CRITICAL: 严重错误
  level: "INFO"
  
  # 日志文件路径
  # 相对于项目根目录的路径
  # 日志目录会自动创建
  file: "logs/app.log"

# -------------------------------------------
# 运营商编码映射（仅供配置参考）
# -------------------------------------------
# 1 = 移动  中国移动通信
# 2 = 联通  中国联合网络通信
# 3 = 电信  中国电信
# 4 = 广电  中国广播电视网络
# 5 = 工信  工业和信息化部
